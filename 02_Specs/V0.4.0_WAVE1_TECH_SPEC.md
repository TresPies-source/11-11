# Dojo Genesis v0.4.0 - Wave 1 Tech Spec

**Author:** Manus AI (Dojo)
**Version:** 1.0
**Date:** January 2026
**Status:** Ready for Development

---

## 1. Overview

This document provides the technical specifications for **Wave 1** of the **Dojo Genesis v0.4.0 UI Unification & Polish** release. The goal of Wave 1 is to establish the foundational UI components and visual identity of the application, directly implementing the vision from the Excellence Sprint.

**Wave 1 Features:**
1.  **Visual Design System:** Implement the complete Dojo Genesis brand identity, including colors, typography, spacing, and base components.
2.  **Sidebar Navigation:** Build the primary 3-tier navigation component.
3.  **Dashboard:** Create the main landing page for authenticated users.

**Guiding Principles:**
-   **Refactor, Don't Rebuild:** Integrate new components and styles into the existing Next.js architecture.
-   **Component-Driven:** Build reusable, modular components for all UI elements.
-   **Brand-First:** Ensure every component and layout strictly adheres to the Dojo Genesis brand guide.
-   **Calm & Premium:** Prioritize subtle animations and a clean, uncluttered aesthetic.

---

## 2. Visual Design System Implementation

**Objective:** Translate the Dojo Genesis brand identity into a functional design system within the existing Tailwind CSS configuration.

### 2.1. Tailwind Configuration (`tailwind.config.ts`)

The existing `tailwind.config.ts` file must be updated to include the full Dojo Genesis color palette, font families, spacing units, and animation timings.

**Action:** Modify `tailwind.config.ts` to extend the theme with the following values:

```typescript
// tailwind.config.ts
import type { Config } from "tailwindcss";

const config: Config = {
  // ... existing config
  theme: {
    extend: {
      colors: {
        // Backgrounds
        'bg-primary':   '#0a1e2e',  // Navy 900
        'bg-secondary': '#0f2838',  // Navy 800
        'bg-tertiary':  '#1a3a4f',  // Navy 700
        'bg-elevated':  '#2a4d63',  // Navy 600

        // Text
        'text-primary':   '#ffffff',
        'text-secondary': '#c5d1dd',
        'text-tertiary':  '#8a9dad',
        'text-muted':     '#6b7f91',
        'text-accent':    '#f5a623',  // Amber 500

        // Agents
        'supervisor': '#f5a623',
        'dojo':       '#f39c5a',
        'librarian':  '#ffd699',
        'debugger':   '#6b7f91',

        // Semantic
        'success': '#4ade80',
        'warning': '#f39c5a',
        'error':   '#ef4444',
        'info':    '#3d6380',
      },
      fontFamily: {
        sans: ['Inter', 'sans-serif'],
        mono: ['"JetBrains Mono"', 'monospace'],
      },
      spacing: {
        '1': '4px',
        '2': '8px',
        '3': '12px',
        '4': '16px',
        '5': '20px',
        '6': '24px',
        '8': '32px',
        '10': '40px',
        '12': '48px',
        '16': '64px',
      },
      transitionDuration: {
        'instant': '100ms',
        'fast':    '200ms',
        'normal':  '300ms',
        'slow':    '500ms',
        'patient': '1000ms',
      },
      transitionTimingFunction: {
        'ease-out':    'cubic-bezier(0.33, 1, 0.68, 1)',
        'ease-in-out': 'cubic-bezier(0.65, 0, 0.35, 1)',
        'ease-bounce': 'cubic-bezier(0.68, -0.55, 0.27, 1.55)',
      },
    },
  },
  // ... existing config
};
export default config;
```

### 2.2. Font Installation

The **Inter** and **JetBrains Mono** fonts must be added to the project.

**Action:** Use Google Fonts to import the fonts in `app/layout.tsx`.

```typescript
// app/layout.tsx
import { Inter } from 'next/font/google';
import { JetBrains_Mono } from 'next/font/google';

const inter = Inter({ subsets: ['latin'], variable: '--font-sans' });
const jetbrainsMono = JetBrains_Mono({ subsets: ['latin'], variable: '--font-mono' });

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en" className={`${inter.variable} ${jetbrainsMono.variable}`}>
      {/* ... */}
    </html>
  );
}
```

### 2.3. Global Styles (`app/globals.css`)

Update the global stylesheet to apply the base background and text colors.

**Action:** Modify `app/globals.css`.

```css
/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-bg-primary text-text-primary;
    font-family: var(--font-sans);
  }
}
```

### 2.4. Base Component Library

Create a set of reusable, brand-aligned base components in the `/components/ui` directory.

**New Components to Create:**

1.  **`Button.tsx`**: A versatile button component with variants for primary (amber), secondary (ghost), and destructive actions.
    -   **Props:** `variant`, `size`, `isLoading`, `icon`, `children`.
    -   **Styling:** Must include hover, active, and disabled states with subtle animations (`whileHover`, `whileTap`).

2.  **`Card.tsx`**: A container component for grouping content.
    -   **Props:** `children`, `className`.
    -   **Styling:** `bg-bg-secondary`, `border`, `border-bg-tertiary`, `rounded-xl`.
    -   **Variants:** Add a `glowing` variant that applies a subtle amber border on hover.

3.  **`StatusDot.tsx`**: A small dot indicator for agent status.
    -   **Props:** `status: 'idle' | 'working' | 'error' | 'success'`, `color`.
    -   **Styling:** `idle` (gray), `working` (agent color with pulse animation), `error` (red), `success` (green).

---

## 3. Sidebar Navigation

**Objective:** Build the primary 3-tier navigation sidebar as a persistent layout component.

**File Location:** `/components/layout/Sidebar.tsx`

### 3.1. Structure and Layout

-   **Width:** `240px` (fixed).
-   **Background:** `bg-bg-secondary`.
-   **Layout:** Flex column with `justify-between`.

### 3.2. Tiers

1.  **Tier 1: Workspace & User** (Top)
    -   **Dojo Genesis Logo:** Bonsai icon + "Dojo Genesis" text.
    -   **User Info:** User email or name.
    -   **Separator:** A `1px` horizontal line (`border-bg-tertiary`).

2.  **Tier 2: Core Navigation** (Middle)
    -   **Links:** Dashboard, Workbench, Librarian, Seeds.
    -   **Component:** Create a `NavItem.tsx` component.
        -   **Props:** `href`, `icon`, `label`, `isActive`.
        -   **Styling:**
            -   **Default:** `text-text-secondary`.
            -   **Hover:** `text-text-primary`, `bg-bg-tertiary`.
            -   **Active:** `text-text-primary`, with a `3px` amber left border.

3.  **Tier 3: Projects & Recent** (Bottom)
    -   **Projects:** A collapsible section (e.g., using Radix UI's Collapsible) to display user projects.
    -   **Recent:** A list of the last 3-5 recently accessed prompts or sessions.

### 3.3. Integration

The `Sidebar` component should be integrated into the main `app/layout.tsx` to be persistent across all pages.

```typescript
// app/layout.tsx
import { Sidebar } from '@/components/layout/Sidebar';

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>
        <div className="flex">
          <Sidebar />
          <main className="flex-1 p-12">
            {children}
          </main>
        </div>
      </body>
    </html>
  );
}
```

---

## 4. Dashboard

**Objective:** Create the main landing page for authenticated users, providing quick access to key workflows and a summary of system status.

**File Location:** `app/dashboard/page.tsx` (or similar, depending on routing structure).

### 4.1. Layout

-   **Main Container:** A flex column with a gap of `spacing-8` (`32px`).
-   **Page Title:** `<h1>Dashboard</h1>` styled with `text-4xl` and `font-bold`.

### 4.2. Components

1.  **Quick Actions Card**
    -   **Component:** Use the `Card` component.
    -   **Layout:** A 2x2 grid of action buttons.
    -   **Actions:**
        -   `[üß† New Dojo Session]`
        -   `[‚úçÔ∏è Write Prompt]`
        -   `[üìö Search Library]`
        -   `[üå± Plant Seed]`
    -   **Styling:** Each action should be a large, clickable button with an icon and label, using the `glowing` card variant on hover.

2.  **Agent Status Card**
    -   **Component:** Use the `Card` component.
    -   **Layout:** A vertical list of agents.
    -   **Content:** For each agent (Supervisor, Dojo, Librarian, Debugger):
        -   Agent Icon (e.g., `üéØ`)
        -   Agent Name
        -   `StatusDot` component indicating current status (default to `idle`).

3.  **Recent Activity Card**
    -   **Component:** Use the `Card` component.
    -   **Layout:** A vertical list of recent events.
    -   **Content:** Display the last 3-5 user actions (e.g., "Dojo Session: 'React performance' (2h ago)").
    -   **Data:** This will require fetching data from a yet-to-be-defined state management or logging system. For Wave 1, mock data is acceptable.

### 4.3. Data Fetching

-   **Agent Status:** For Wave 1, agent statuses can be hardcoded to `idle`. In future waves, this will connect to a real-time state management system (e.g., Supabase Realtime).
-   **Recent Activity:** Use a mock array of recent activity objects for initial implementation.

---

## 5. Success Criteria for Wave 1

-   ‚úÖ All colors, fonts, and spacing in `tailwind.config.ts` match the brand guide.
-   ‚úÖ The `Sidebar` is present on all pages and navigation works correctly.
-   ‚úÖ The `Dashboard` page renders with all three cards (Quick Actions, Agent Status, Recent Activity).
-   ‚úÖ All components have appropriate hover and active states as defined in the mockups.
-   ‚úÖ The application is visually identical to the **Refined Mockups** for the Dashboard and Sidebar.
-   ‚úÖ The codebase remains stable, and all existing tests pass.
